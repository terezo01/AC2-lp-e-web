<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SchoolPilot</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* Garante altura total para a sidebar */
      .sidebar {
        min-height: 100vh;
      }
      .text-danger {
        font-size: 2rem;
      }
      a .btn {
        border-radius: 0;
        height: 70px;
        font-size: 1.5rem;
        font-weight: 500;
      }

      a {
        text-decoration: none;
      }

      @media (max-width: 767.98px) {
        .sidebar {
          min-height: auto;
        }
        a .btn {
          display: none;
        }

        nav {
          gap: 20px;
          margin: 0 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row flex-md-nowrap">
        <!-- Sidebar vertical no desktop, horizontal no mobile -->
        <nav
          class="col-12 col-md-2 bg-light sidebar d-flex flex-md-column flex-row align-items-center py-3 px-0"
        >
          <div class="mb-md-4 fw-bold text-danger">SchoolPilot</div>

          <div class="d-none d-md-flex flex-column w-100">
            <a href="/" class="w-100">
              <button class="btn btn-secondary w-100 w-md-20">Home</button>
            </a>
            <a href="/adicionar" class="w-100">
              <button class="btn btn-success w-100 w-md-20">Adicionar</button>
            </a>
            <a href="/atualizar-page" class="w-100">
              <button class="btn btn-info text-white w-100">Atualizar</button>
            </a>
            <a href="/remover-page" class="w-100">
              <button class="btn btn-danger w-100">Remover</button>
            </a>
          </div>
          <div class="dropdown d-md-none">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              ☰ Menu
            </button>
            <ul class="dropdown-menu">
              <li>
                <a class="dropdown-item text-success" href="/">Home</a>
                <a class="dropdown-item text-success" href="/adicionar"
                  >Adicionar</a
                >
              </li>
              <li>
                <a class="dropdown-item text-info" href="/atualizar-page"
                  >Atualizar</a
                >
              </li>
              <li>
                <a class="dropdown-item text-danger" href="/remover-page"
                  >Remover</a
                >
              </li>
            </ul>
          </div>
        </nav>

        <!-- Conteúdo principal -->
        <main class="col-12 col-md-10 p-4">
          <h2 class="text-danger">Tarefas</h2>

          <form class="mb-3" action="/filtrar" method="post">
            <select
              class="form-select w-auto d-inline"
              id="escolha"
              name="escolha"
            >
              <option value="Todas">Todas</option>
              <option value="Português">Português</option>
              <option value="Matemática">Matemática</option>
              <option value="Ciências">Ciências</option>
              <option value="História">História</option>
              <option value="Geografia">Geografia</option>
              <option value="Inglês">Inglês</option>
              <option value="Outros">Outros</option>
            </select>

            <button type="submit" class="btn btn-secondary">Filtrar</button>
          </form>

          <div class="table-responsive w-100">
            <table class="table table-bordered">
              <thead class="table-light">
                <tr>
                  <th style="width: 20%">Nome</th>
                  <th style="width: 40%">Descrição</th>
                  <th style="width: 25%">Matéria</th>
                  <th style="width: 15%">Ações</th>
                </tr>
              </thead>
              <tbody>
                {{tarefaTable}}
              </tbody>
            </table>
          </div>
        </main>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
